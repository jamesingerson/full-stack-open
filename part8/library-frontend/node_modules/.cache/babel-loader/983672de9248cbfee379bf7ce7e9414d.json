{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { useCallback, useMemo, useRef } from 'react';\nimport { mergeOptions } from \"../../utilities/index.js\";\nimport { useInternalState } from \"./useQuery.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nvar EAGER_METHODS = ['refetch', 'reobserve', 'fetchMore', 'updateQuery', 'startPolling', 'subscribeToMore'];\nexport function useLazyQuery(query, options) {\n  var internalState = useInternalState(useApolloClient(options && options.client), query);\n  var execOptionsRef = useRef();\n  var merged = execOptionsRef.current ? mergeOptions(options, execOptionsRef.current) : options;\n  var useQueryResult = internalState.useQuery(__assign(__assign({}, merged), {\n    skip: !execOptionsRef.current\n  }));\n  var initialFetchPolicy = useQueryResult.observable.options.initialFetchPolicy || internalState.getDefaultFetchPolicy();\n  var result = Object.assign(useQueryResult, {\n    called: !!execOptionsRef.current\n  });\n  var eagerMethods = useMemo(function () {\n    var eagerMethods = {};\n\n    var _loop_1 = function (key) {\n      var method = result[key];\n\n      eagerMethods[key] = function () {\n        if (!execOptionsRef.current) {\n          execOptionsRef.current = Object.create(null);\n          internalState.forceUpdate();\n        }\n\n        return method.apply(this, arguments);\n      };\n    };\n\n    for (var _i = 0, EAGER_METHODS_1 = EAGER_METHODS; _i < EAGER_METHODS_1.length; _i++) {\n      var key = EAGER_METHODS_1[_i];\n\n      _loop_1(key);\n    }\n\n    return eagerMethods;\n  }, []);\n  Object.assign(result, eagerMethods);\n  var execute = useCallback(function (executeOptions) {\n    execOptionsRef.current = executeOptions ? __assign(__assign({}, executeOptions), {\n      fetchPolicy: executeOptions.fetchPolicy || initialFetchPolicy\n    }) : {\n      fetchPolicy: initialFetchPolicy\n    };\n    var promise = internalState.asyncUpdate().then(function (queryResult) {\n      return Object.assign(queryResult, eagerMethods);\n    });\n    promise.catch(function () {});\n    return promise;\n  }, []);\n  return [execute, result];\n}","map":{"version":3,"mappings":"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","names":["__assign","useCallback","useMemo","useRef","mergeOptions","useInternalState","useApolloClient","EAGER_METHODS","useLazyQuery","query","options","internalState","client","execOptionsRef","merged","current","useQueryResult","useQuery","skip","initialFetchPolicy","observable","getDefaultFetchPolicy","result","Object","assign","called","eagerMethods","_loop_1","key","method","create","forceUpdate","apply","arguments","_i","EAGER_METHODS_1","length","execute","executeOptions","fetchPolicy","promise","asyncUpdate","then","queryResult","catch"],"sources":["C:/Users/jamesi/Desktop/Repos/full-stack-open/part8/library-frontend/node_modules/@apollo/client/react/hooks/useLazyQuery.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { useCallback, useMemo, useRef } from 'react';\nimport { mergeOptions } from \"../../utilities/index.js\";\nimport { useInternalState } from \"./useQuery.js\";\nimport { useApolloClient } from \"./useApolloClient.js\";\nvar EAGER_METHODS = [\n    'refetch',\n    'reobserve',\n    'fetchMore',\n    'updateQuery',\n    'startPolling',\n    'subscribeToMore',\n];\nexport function useLazyQuery(query, options) {\n    var internalState = useInternalState(useApolloClient(options && options.client), query);\n    var execOptionsRef = useRef();\n    var merged = execOptionsRef.current\n        ? mergeOptions(options, execOptionsRef.current)\n        : options;\n    var useQueryResult = internalState.useQuery(__assign(__assign({}, merged), { skip: !execOptionsRef.current }));\n    var initialFetchPolicy = useQueryResult.observable.options.initialFetchPolicy ||\n        internalState.getDefaultFetchPolicy();\n    var result = Object.assign(useQueryResult, {\n        called: !!execOptionsRef.current,\n    });\n    var eagerMethods = useMemo(function () {\n        var eagerMethods = {};\n        var _loop_1 = function (key) {\n            var method = result[key];\n            eagerMethods[key] = function () {\n                if (!execOptionsRef.current) {\n                    execOptionsRef.current = Object.create(null);\n                    internalState.forceUpdate();\n                }\n                return method.apply(this, arguments);\n            };\n        };\n        for (var _i = 0, EAGER_METHODS_1 = EAGER_METHODS; _i < EAGER_METHODS_1.length; _i++) {\n            var key = EAGER_METHODS_1[_i];\n            _loop_1(key);\n        }\n        return eagerMethods;\n    }, []);\n    Object.assign(result, eagerMethods);\n    var execute = useCallback(function (executeOptions) {\n        execOptionsRef.current = executeOptions ? __assign(__assign({}, executeOptions), { fetchPolicy: executeOptions.fetchPolicy || initialFetchPolicy }) : {\n            fetchPolicy: initialFetchPolicy,\n        };\n        var promise = internalState\n            .asyncUpdate()\n            .then(function (queryResult) { return Object.assign(queryResult, eagerMethods); });\n        promise.catch(function () { });\n        return promise;\n    }, []);\n    return [execute, result];\n}\n"]},"metadata":{},"sourceType":"module"}